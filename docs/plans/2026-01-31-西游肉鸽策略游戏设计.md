# 西游肉鸽策略游戏 - 核心设计文档

## 1. 游戏概述

### 定位
- **类型**：回合制策略 Roguelike
- **人数**：1-4 人联机
- **单局时长**：10 分钟内
- **特点**：单局完整体验，无跨局成长

### 平台
- Chrome 网页版
- 微信小游戏

### 核心玩点
| 玩点 | 描述 |
|------|------|
| 三选一策略 | 每次成长都是有意义的抉择 |
| 五行博弈 | 攻防五行 + 等级叠加 + 相生相克 |
| 黑盒合成 | 凭经验赌配方，小概率出神器 |
| 81难剧情 | 西游主题，非战斗解法，build 检验 |
| 信息战 | 外显有限信息，推测对手 build |
| 陷害与翻盘 | 干扰对手，延迟揭示，戏剧性 |
| 背包取舍 | 有限格子，大量掉落，逼迫决策 |

---

## 2. 核心循环

### 单局流程
```
5-6 个节点（三选一成长）
    ↓
中期 Boss
    ↓
最终决战：PvP 混战 + Boss（多人）/ 大 Boss（单人）
```

### 节点类型
随机刷出 2-3 个选项，高收益选项几率低：

| 类型 | 出现概率 | 描述 |
|------|----------|------|
| 普通战斗 | 常见 | 稳定收益 |
| 休整恢复 | 常见 | 恢复状态 |
| 精英战斗 | 较少 | 高风险高收益 |
| 81难剧情 | 稀有 | 独特挑战，特殊奖励 |
| 随机事件 | 较少 | 可能是惊喜也可能是坑 |

### 游戏模式

**单人模式（1P）：**
- PvE 练习，最终打大 Boss
- 用途：熟悉机制、测试黑盒合成配方
- 纯实验场，为联机积累经验

**多人模式（2-4P）：**
- 5-6 节点成长 → Boss → PvP 混战
- 每轮同步等待，可观察对手/使用陷害卡
- 最后存活者获胜

---

## 3. 五行系统

### 基础设定
```
五行：金、木、水、火、土

相克（伤害加成）：金→木→土→水→火→金
相生（给对方加血！）：金→水→木→火→土→金
```

### 攻防五行
- **武器** → 决定攻击五行
- **铠甲** → 决定防御五行

### 五行等级叠加
```
武器（火）+ 铠甲（火）+ 法宝（火）= 火3
```

### 等级影响战斗
- 火2 克 金1 → 大幅伤害加成
- 火1 克 金2 → 微弱加成（等级劣势抵消部分克制）
- 火2 生 土1 → 给敌人回更多血

### Build 策略分化
| 流派 | 特点 |
|------|------|
| 专精流 | 堆单一五行到高等级，克制时碾压，被克时脆弱 |
| 双修流 | 主副两个五行，灵活切换 |
| 杂学流 | 多五行平衡，无明显弱点但无碾压优势 |

---

## 4. 装备系统

### 装备栏结构
```
角色身上：
├── 武器 ×1 — 攻击五行 + 攻击数值 + 附带技能
├── 铠甲 ×1 — 防御五行 + 防御数值 + 附带技能
└── 法宝 ×5-8 — 属性加成 + 五行等级 + 附带技能
```

### 技能系统
- 技能由装备和法宝**附带**
- 无独立技能系统
- 升级装备/法宝 → 同时升级其附带的技能

### 战斗前决策
- 更换武器/铠甲（调整五行 + 切换技能）
- 调整法宝搭配（调整属性 + 技能组合）
- 升级装备/法宝（强化数值 + 技能）

---

## 5. 背包与合成系统

### 背包
- **容量**：8-10 格
- **设计目的**：第二轮就塞满，逼迫取舍决策
- **掉落**：每轮战斗掉落大量物品

### 物品处理方式

#### 方式一：合成系统

**通用规则（概率黑盒，升级目标随机）：**
```
同属性合成   → 50%
相生属性合成 → 30% 或 20%（因五行组合而异）
相克属性合成 → 30% 或 20%（因五行组合而异）
```

**特定规则（黑盒配方）：**
```
特定装备A + 特定装备B = 高级装备C
例：芭蕉扇 + 火焰石 = 灭火神扇
配方需要玩家探索发现
```

**合成失败补偿：**
```
合成失败 → 2 件中随机 1 件分解为「法宝碎片」
法宝碎片 → 下次合成概率 +5%，可无限叠加
（此机制也是黑盒，不告知玩家）
```

#### 方式二：吞噬系统
```
指定装备A 吞噬 装备B
→ 低概率：A 直接升级（忽略合成规则）
→ 高概率：B 消失，A 无变化
```

**吞噬定位：**
- 可精准升级想要的装备
- 代价是成功率很低
- 适合处理"不想要但扔了可惜"的装备

---

## 6. 战斗系统

### 战斗方式
- **自动战斗**：玩家只负责构筑，战斗完全由 AI 接管
- **玩家角色**：战前调整装备/法宝，战时观战

### 站位规则
```
2人：左 ── 右
3人：  △  三角形
4人：□  正方形四角
```

### 最终决战（多人）
```
    玩家A ←→ 玩家B
       ↖   ↗
        Boss（随机攻击）
       ↙   ↘
    玩家C ←→ 玩家D
```

- PvPvE 混战
- Boss 是单人模式的大 Boss
- Boss 随机选择目标攻击
- 最后存活者获胜

---

## 7. 联机互动系统

### 同步机制
- 每轮结束后等待其他玩家同步
- 等待时可观察对手外显状态

### 外显信息（同步阶段可见）
| 可见 | 隐藏 |
|------|------|
| 装备五行（武器红色=火，铠甲蓝色=水） | 具体数值 |
| 状态（残血、中毒等视觉效果） | 法宝详情 |
| | 备用装备 |
| | 合成配方 |

### 干扰/陷害系统

**获取方式：**
- **事件触发**：某些事件让你选"帮自己"或"害别人"
- **陷害卡**：收集后在同步阶段使用

**特殊技能：**
- **黑魔法**：伤敌 1000 自损 800 的双刃剑技能

**延迟揭示：**
- 游戏过程中被害但不知凶手
- 游戏结束后才揭晓谁害了谁
- 增加社交话题和戏剧性

---

## 8. 81难剧情系统

### 设计理念
- 取材西游记 81 难
- 每关独立设计，不只是战斗
- 根据玩家 build 触发不同解法

### 示例关卡

**女儿国：**
```
条件：水属性高 + 相貌达标
结果：跳过战斗，直接获得女儿国王赠礼
否则：需要战斗通过
```

**火焰山：**
```
条件：拥有芭蕉扇道具 或 水属性高
结果：安全通过
否则：持续掉血
```

**通天河：**
```
条件：土属性高（造桥）或 交涉属性
结果：安全渡河
否则：遭遇水怪
```

---

## 9. 美术风格

### 整体风格
- 参考《战场兄弟》— 2D 纸片人风格
- 简洁但有辨识度

### 战斗场景
- 2D 斜角俯视（等距/isometric 风格）
- 营造三维层次感
- 实际是 2D 图像排列

### 视觉元素
- 2D 模型 + 粒子特效
- 装备外显（换武器/铠甲，外观跟着变）
- 五行用颜色区分（火=红，水=蓝，木=绿，金=白，土=黄）
- 状态外显（残血、中毒等视觉效果）

---

## 10. 数值设计

### 低数值系统
- 参考《热血传奇》
- 攻击力从 1 起步
- 每 +1 都是显著提升

### 示例
```
武器攻击力：1 → 2 → 3 → 4 → 5
防御力：1 → 2 → 3 → 4 → 5
```

### 设计意义
- 数值直观，易于理解
- 每次成长都有明显反馈
- 小数值差距产生大影响
- 五行克制的 ±1、±2 就能扭转战局
- 获得 +1 攻击的法宝是真的强
- 合成出 +3 的就是神器

### 概率系统
- 所有概率均为黑盒设计
- 不向玩家公开具体数值
- 鼓励玩家探索和社区讨论

---

## 附录：核心系统关系图

```
┌─────────────────────────────────────────────────────┐
│                    单局游戏流程                       │
├─────────────────────────────────────────────────────┤
│                                                     │
│  ┌─────┐    ┌─────┐    ┌─────┐    ┌─────┐         │
│  │节点1│ →  │节点2│ →  │节点3│ →  │ ... │         │
│  └──┬──┘    └──┬──┘    └──┬──┘    └──┬──┘         │
│     │          │          │          │             │
│     ▼          ▼          ▼          ▼             │
│  ┌─────────────────────────────────────┐           │
│  │         三选一成长 / 战斗            │           │
│  │    ┌─────┬─────┬─────┐              │           │
│  │    │选项A│选项B│选项C│              │           │
│  │    └─────┴─────┴─────┘              │           │
│  └─────────────────────────────────────┘           │
│                    │                               │
│                    ▼                               │
│           ┌───────────────┐                        │
│           │   同步等待     │                        │
│           │ · 观察对手    │                        │
│           │ · 使用陷害卡  │                        │
│           │ · 调整装备    │                        │
│           └───────┬───────┘                        │
│                   │                                │
│                   ▼                                │
│           ┌───────────────┐                        │
│           │   中期 Boss   │                        │
│           └───────┬───────┘                        │
│                   │                                │
│                   ▼                                │
│     ┌─────────────────────────────┐               │
│     │       最终决战              │               │
│     │  ┌─────┐      ┌─────┐      │               │
│     │  │玩家A│ ←──→ │玩家B│      │               │
│     │  └──┬──┘      └──┬──┘      │               │
│     │     │   Boss    │          │               │
│     │     │  (随机)   │          │               │
│     │  ┌──┴──┐      ┌──┴──┐      │               │
│     │  │玩家C│ ←──→ │玩家D│      │               │
│     │  └─────┘      └─────┘      │               │
│     └─────────────────────────────┘               │
│                                                    │
└─────────────────────────────────────────────────────┘
```

---

*文档版本：v1.0*
*创建日期：2026-01-31*
